{% extends 'index.html' %}

{% block title %}
<title>Posts</title>
{% endblock title %}
{%block navbar_block%}
    <nav class="navbar navbar-expand-lg navbar-dark navbar-shrink" id="mainNav">   
{%endblock navbar_block%}
{% block body_block%}
<div class="container">
    <h1>Listado de posts</h1>
    <table class="table table-striped table-bordered ">
        <thead class="thead-dark">
            <th scope="col">#</th>
            <th scope="col">Usuario</th>
            <th scope="col">Titulo</th>
            <th scope="col">Fecha de Creacion</th>
            <th scope="col">Ultima actualizacion</th>
            <th scope="col">Acciones</th>
        </thead>
        <tbody>
            {% if post_list %}
                {% for post in post_list  %}
            <tr>
                <td>{{post.id}}</td>
                <td></td>
                <td>{{post.title}}</td>
                <td>{{post.publish_date}}</td>
                <td>{{post.last_update}}</td>
                <td>
                    <a class="btn btn-primary" href="{% url 'post:detail' post.id %}"> Ver detalle </a>
                    <a class="btn btn-primary"  href="{% url 'post:update' post.id %}"> Editar </a>
                    <a class="btn btn-primary"  href="{% url 'post:delete' post.id %}"> Borrar </a>
                </td>
            </tr>
            {% endfor %} 
            {% else %}
            </h2>No hay registro de Posts</h2>
            {% endif %}
            {% comment %} <a href={% url 'post:create' %}> >> Crear Post << </a> {% endcomment %}
        </tbody>
    </table>
</div>

{%endblock body_block%}

{%block js_block%}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script> 
{%endblock js_block%}

